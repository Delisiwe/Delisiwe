package com.jsf.jpa.crud.db.operations;

import java.util.List;

import javax.faces.application.FacesMessage;
import javax.faces.context.FacesContext;
import javax.persistence.EntityManager;
import javax.persistence.EntityTransaction;
import javax.persistence.Persistence;
import javax.persistence.Query;

import com.jsf.jpa.cruds.SchoolBean;
import com.jsf.jpa.cruds.SchoolEntityManager;

public class DatabaseOperations {

private static final String PERSISTENCE_UNIT_NAME = "JSFJPACrud";
private static EntityManager entityMgrObj = Persistence.createEntityManagerFactory(PERSISTENCE_UNIT_NAME).createEntityManager();
private static EntityTransaction transactionObj = entityMgrObj.getTransaction();

// Method To Fetch All School Details From The Database
@SuppressWarnings("unchecked")
public static List getAllSchoolDetails() {
Query queryObj = entityMgrObj.createQuery("SELECT s FROM SchoolEntityManager s");
List schoolList = queryObj.getResultList();
if (schoolList != null && schoolList.size() > 0) {
return schoolList;
} else {
return null;
        }
    }